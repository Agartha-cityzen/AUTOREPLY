{
  "bot_config": {
    "name": "AsistenteWhatsApp",
    "language": "es",
    "default_fallback": "Lo siento, no entiendo tu consulta. ¿Podrías reformularla o elegir una de las opciones siguientes?",
    "fallback_options": [
      "1) Consulta sobre productos",
      "2) Horarios de atención",
      "3) Soporte técnico",
      "4) Contactar con un agente"
    ],
    "log_communications": true
  },
  "flows": [
    {
      "id": "flow_welcome",
      "trigger": {
        "type": "event",
        "name": "user_initiated"
      },
      "response": {
        "text": "¡Bienvenido! Soy el asistente de [TuEmpresa]. ¿En qué puedo ayudarte hoy?",
        "buttons": [
          {"id": "btn_productos", "text": "Productos"},
          {"id": "btn_horarios", "text": "Horarios"},
          {"id": "btn_soporte", "text": "Soporte"}
        ]
        },
      "fallback": {
        "text": "¿Qué opción te interesa? Elige un número: 1- Productos, 2- Horarios, 3- Soporte"
      }
    },
    {
      "id": "flow_productos",
      "trigger": {
        "type": "user_reply",
        "conditions": ["text_contains:productos", "button_clicked:btn_productos"]
      },
      "response": {
        "text": "Tenemos los siguientes productos: ... ¿Deseas más detalles o hacer un pedido?",
        "cards": [
          {"title": "Producto A", "subtitle": "Descripción breve", "image_url": "", "actions": [{"type": "reply", "text": "Detalles", "payload": "DETALLE_PROD_A"}]},
          {"title": "Producto B", "subtitle": "Descripción breve", "image_url": "", "actions": [{"type": "reply", "text": "Detalles", "payload": "DETALLE_PROD_B"}]}
        ]
      }
    },
    {
      "id": "flow_horarios",
      "trigger": {
        "type": "user_reply",
        "conditions": ["text_contains:horarios", "button_clicked:btn_horarios"]
      },
      "response": {
        "text": "Nuestro horario es de lunes a viernes de 9:00 a 18:00 CET. ¿Quieres que te envíe el enlace para agendar una cita?"
      }
      },
    {
      "id": "flow_soporte",
      "trigger": {
        "type": "user_reply",
        "conditions": ["text_contains:soporte", "button_clicked:btn_soporte"]
      },
      "response": {
        "text": "Para soporte, por favor indica el problema o adjunta capturas. Un agente te atenderá en breve."
      }
    }
  ],
  "audio_responses": [
    // si aplicas respuestas de audio o notificaciones de voz, opcional
  ],
  "settings": {
    "retry_on_failure": 2,
    "max_concurrent_sessions": 5
  }
}
